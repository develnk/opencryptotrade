server:
  port : 8081

spring:
  main:
    allow-bean-definition-overriding: true
    allow-circular-references: true
  application:
    name: account-service
  mvc:
    log-request-details: true

logging:
  level:
    org:
      springframework:
        web: DEBUG

jpa:
  properties:
    hibernate:
      jdbc:
        time_zone: UTC

keycloak:
  auth-server-url: http://localhost:8484/auth
  realm: test
  public-client: true
  resource: main
  use-resource-role-mappings: false
  principal-attribute: preferred_username
---
spring:
  profiles:
    active: local
  cloud:
    kubernetes:
      config:
        enabled: false
#    vault:
#      host: localhost
#      port: 8200
#      scheme: http
#      authentication: APPROLE
#      app-role:
#        role-id: 4f2dbfbd-8108-8615-e534-e9455141b470
#        secret-id: 807c418a-d0bc-470e-c986-92b6fa319caf
#        role: oct
#        app-role-path: approle
#      generic:
#        enabled: true
#      kv:
#        enabled: true
#        backend: secret
#        profile-separator: '/'
#        default-context: application
#        application-name: oct
#        profiles: local

  jpa:
    database: postgresql
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        temp:
          use_jdbc_metadata_defaults: false
        jdbc:
          time_zone: UTC
  datasource:
    url: jdbc:postgresql://localhost:5434/auth
    username: root
    password: root
    driver-class-name: org.postgresql.Driver
    database-platform: org.hibernate.dialect.PostgreSQL10Dialect
    initialization-mode: never

---
spring:
  profiles:
    active: development production
  cloud:
    kubernetes:
      config:
        namespace: development
        name: account-service
        sources:
          - name: account-service
