server:
  port : 8082
  http2:
    enabled: true
  forward-headers-strategy: native

app:
  security:
    clientId: "main"

spring:
  application:
    name: cryptocurrency-service
  aop:
    proxy-target-class: true
  kafka:
    consumer:
      bootstrap-servers: localhost:29092
    producer:
      bootstrap-servers: localhost:29092
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://${DOCKER_HOST_IP:localhost}:8484/auth/realms/test
  datasource:
    url: jdbc:postgresql://${DOCKER_HOST_IP:localhost}:5434/cryptocurrency
    username: root
    password: root
    hikari:
      minimum-idle: 1
      maximumPoolSize: 20
      jdbcUrl: jdbc:postgresql://${DOCKER_HOST_IP:localhost}:5434/cryptocurrency
      username: root
      password: root
    type: com.zaxxer.hikari.HikariDataSource
    #    url: jdbc:postgresql://${DOCKER_HOST_IP:localhost}:5434/cryptocurrency
    #    username: root
    #    password: root
    driver-class-name: org.postgresql.Driver
    database-platform: org.hibernate.dialect.PostgreSQL10Dialect
    initialization-mode: never
#  jackson:
#    serialization:
#      wrap-root-value: true

logging:
  level:
    org:
      springframework:
        web: DEBUG

axon:
  serializer:
    general: jackson
    messages: jackson
    events: jackson

jpa:
  properties:
    hibernate:
      jdbc:
        time_zone: UTC

---
spring:
  profiles:
    active: local
#  r2dbc:
#    url: r2dbc:postgresql://${DOCKER_HOST_IP:localhost}:5434/cryptocurrency
#    username: root
#    password: root
  cloud:
    kubernetes:
      config:
        enabled: false

  jpa:
    database: postgresql
    properties:
      hibernate:
        ddl-auto: none
#        show_sql: true
#        format_sql: true
#        use_sql_comments: true
#        generate_statistics: true
        temp:
          use_jdbc_metadata_defaults: false
        jdbc:
          time_zone: UTC

eventuate:
  outbox:
    id: 1

logging:
  level:
    org:
#      hibernate:
#        type: trace
#      springframework:
#        r2dbc: DEBUG

---
spring:
  profiles:
    active: development production
  cloud:
    kubernetes:
      config:
        namespace: development
        name: cryptocurrency-service
        sources:
          - name: cryptocurrency-service
