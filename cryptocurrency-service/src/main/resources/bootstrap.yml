server:
  port : 8082

spring:
  main:
    allow-bean-definition-overriding: true
    allow-circular-references: true
  application:
    name: cryptocurrency-service
  mvc:
    log-request-details: true
  kafka:
    consumer:
      bootstrap-servers: localhost:29092
    producer:
      bootstrap-servers: localhost:29092

logging:
  level:
    org:
      springframework:
        web: DEBUG
    io:
      eventuate:
        activity: INFO

jpa:
  properties:
    hibernate:
      jdbc:
        time_zone: UTC

keycloak:
  auth-server-url: http://${DOCKER_HOST_IP:localhost}:8484/auth
  realm: test
  public-client: true
  resource: main
  use-resource-role-mappings: false
  principal-attribute: preferred_username

eventuatelocal:
  kafka:
    bootstrap:
      servers: localhost:29092, localhost:39092
  zookeeper:
    connection:
      string: ${DOCKER_HOST_IP:localhost}:22181

---
spring:
  profiles:
    active: local
  cloud:
    kubernetes:
      config:
        enabled: false

  jpa:
    database: postgresql
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        temp:
          use_jdbc_metadata_defaults: false
        jdbc:
          time_zone: UTC
  datasource:
    url: jdbc:postgresql://${DOCKER_HOST_IP:localhost}:5434/cryptocurrency
    username: root
    password: root
    driver-class-name: org.postgresql.Driver
    database-platform: org.hibernate.dialect.PostgreSQL10Dialect
    initialization-mode: never

---
spring:
  profiles:
    active: development production
  cloud:
    kubernetes:
      config:
        namespace: development
        name: cryptocurrency-service
        sources:
          - name: cryptocurrency-service
